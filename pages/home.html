<div ng-controller="GraphCtrl" flex layout="row" layout-fill>
  <div flex="20" layout-fill>
    <md-content layout-margin layout="column">
      <md-card flex layout layout-margin layout="column">
        <h3 flex>Data source</h3>
        <md-switch flex ng-model="polling">Poll master</md-switch>
        <md-button flex class="md-raised md-primary" ng-disabled="polling" ng-click="refresh()">Refresh</md-button>
      </md-card>
      <md-card flex layout layout-margin layout="column">
        <h3 flex>Nodes</h3>
        <div flex>
          <div layout layout-align="space-between center" flex ng-repeat="(type, config) in viewModelService.viewModel.configuration.legend.node">
            <md-checkbox ng-model="viewModelService.viewModel.configuration.legend.node[type].selected" ng-change="updateModel()">{{type}}</md-checkbox>
            <svg width="30px" height="30px"><circle r="15" cx="15" cy="15" fill="{{config.fill}}"></circle></svg>
          </div>
        </div>
      </md-card>
      <md-card flex layout layout-margin layout="column">
        <h3 flex>Links</h3>
        <div flex>
          <div layout layout-align="space-between center" flex ng-repeat="(type, config) in viewModelService.viewModel.configuration.legend.link">
            <span>{{type}}</span>
            <svg width="30px" height="30px"><line x1="0" y1="15" x2="30" y2="15" stroke="{{config.stroke}}" stroke-dasharray="{{config.dash}}" fill="{{config.fill}}" width="{{config.width}}"></line></svg>
          </div>
        </div>
      </md-card>
      <md-card flex layout-margin layout="column">
        <h3 flex>Mock data</h3>
        <div flex layout ng-repeat="sampleName in mockDataSampleNames">
          <md-button layout-fill class="md-raised md-primary" ng-click="showMockDataSample(sampleName)">{{sampleName}}</md-button>
        </div>
      </md-card>
    </md-content>
  </div>
  <div flex="80" layout="column" layout-fill>
    <md-whiteframe class="md-whiteframe-z1" flex layout layout-fill layout-padding>
      <d3-visualization></d3-visualization>
    </md-whiteframe>
  </div>
</div>
