{
  "directory" : [{
    "name" : "All Data",
    "script" : "templateTransform.js",
    "data" : {
      "nodeMaps" : [{
        "properties" : {
          "type" : "$.type", 
          "name" : "$.label",
          "tags" : "$.metadata"
        }
      }],
      "edgeMaps" : [{
        "properties" : {
          "type" : "$.relation",
          "label" : "$.relation",
          "tags" : "$.metadata",
          "source" : "$.source",
          "target" : "$.target"
        }
      },{
        "filter" : {
          "eval" : "('%s' == 'loadBalances')",
          "args" : [ "$.relation" ]
        }, 
        "properties" : {
          "type" : "balances",
          "label" : "balances",
        }
      },{
        "filter" : {
          "eval" : "('%s' == 'createdFrom')",
          "args" : [ "$.relation" ]
        }, 
        "properties" : {
          "type" : "uses",
          "label" : "uses",
        }
      }]
    }
  },{
    "name" : "Services",
    "script" : "templateTransform.js",
    "data" : {
      "nodeMaps" : [{
        "filter" : {
          "eval" : "('%s' == 'Container')",
          "args" : [ "$.type" ]
        }, 
        "properties" : {
          "type" : "$.type", 
          "name" : "$.metadata.Config.Image", 
          "tags" : {
            "properties" : {
              "NetworkSettings" : "$.metadata.NetworkSettings", 
              "State" : "$.metadata.State"
            }
          }
        }
      },{
        "filter" : {
          "eval" : "('%s' == 'Pod')",
          "args" : [ "$.type" ]
        }, 
        "properties" : {
          "type" : "$.type", 
          "name" : "$.label",
          "tags" : {
            "properties" : {
              "podIP" : "$.metadata.currentState.podIP", 
              "startedAt" : "$.metadata.currentState.status"
            }
          }
        }
      }, {
        "filter" : {
          "eval" : "('%s' == 'Service')",
          "args" : [ "$.type" ]
        }, 
        "properties" : {
          "type" : "$.type", 
          "name" : "$.label",
          "tags" : {
            "properties" : {
              "labels": "$.metadata.labels", 
              "namespace": "$.metadata.namespace", 
              "port": "$.metadata.port", 
              "portalIP": "$.metadata.portalIP", 
              "selector": "$.metadata.selector"
            }
          }
        }
      }],
      "nodeFilters" : [{
        "eval" : "('%s' == 'Container') || ('%s' == 'Pod') || ('%s' == 'Service')",
        "args" : [ "$.type", "$.type" , "$.type"]
      }],
      "edgeMaps" : [{
        "filter" : {
          "eval" : "('%s' == 'loadBalances')",
          "args" : [ "$.relation" ]
        }, 
        "properties" : {
          "type" : "balances",
          "label" : "balances",
          "tags" : "$.metadata"
        }
      },{
        "filter" : {
          "eval" : "('%s' == 'createdFrom')",
          "args" : [ "$.relation" ]
        }, 
        "properties" : {
          "type" : "uses",
          "label" : "uses",
          "tags" : "$.metadata"
        }
      },{
        "filter" : {
          "eval" : "('%s' != 'loadBalances') && ('%s' != 'createdFrom')",
          "args" : [ "$.relation", "$.relation" ]
        }, 
        "properties" : {
          "type" : "$.relation",
          "label" : "$.relation",
          "tags" : "$.metadata"
        }
      }]
    }
  }]
}